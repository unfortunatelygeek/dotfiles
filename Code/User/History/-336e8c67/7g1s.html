<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VirtualFit AR - Try On Clothes Virtually</title>
    <link rel="stylesheet" href="ar-styles.css">
    <link rel="stylesheet" href="myntra/Common Files/style.css">
    <link rel="stylesheet" href="../Landingpage/navbar.css">
    <link rel="stylesheet" href="../Landingpage/footer.css">
    <style>
        #camera-container {
            display: none;
            /* Add your desired dimensions and position */
            width: 300px;
            height: 300px;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: white;
            z-index: 1000;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        /* Additional styles for the iframe content */
        #camera-content {
            width: 100%;
            height: 100%;
        }
    </style>


        #camera-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="../Landingpage/index.html">Home</a></li>
                <li><a href="../Homepages/menHomePage.html">Men</a></li>
                <li><a href="../Homepages/womenHomePage.html">Women</a></li>
                <li><a href="../Homepages/homeLiving.html">Home Living</a></li>
                <li><a href="#try-on">Try On</a></li>
                <li><a href="#how-it-works">How It Works</a></li>
                <li><a href="../Profile/profile.html">Profile</a></li>
                <li><a href="../wishlist/wishlist.html">Wishlist</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home-secondary">
            <h1>Welcome to VirtualFit AR</h1>
            <p>Experience clothes shopping like never before with our AR try-on technology!</p>
        </section>
        
        <section id="try-on">
            <h2>Virtual Fitting Room</h2>
            <h3>Here's What you Have to Do:</h3>
            <p>Choose an Outfit from the Catalogue and add it to your wishlist</p>
            <button id="turn-on-camera">Turn On the Camera</button>
            <div id="ar-container">
                <!-- AR view container will be populated dynamically -->
            </div>
            <div id="clothing-options">
                <!-- Thumbnails of clothes to try on -->
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 VirtualFit AR. All rights reserved.</p>
        <nav>
            <ul>
                <li><a href="../Homepages/sustainability.html">Sustainability</a></li>
                <li><a href="../Homepages/voting.html">Voting</a></li>
            </ul>
        </nav>
    </footer>

    <div id="camera-container">
        <div id="camera-content">
            <iframe id="camera-frame" width="100%" height="100%" frameborder="0" allowfullscreen>
            </iframe>
        </div>
    </div>

    <script>
        // Function to handle messages from camera.html
        window.addEventListener('message', function(event) {
            // Check if message is from the iframe and the data matches the return event
            if (event.origin === window.location.origin && event.data === 'returnClicked') {
                // Redirect to live-try-on.html when returnButton is clicked in camera.html
                window.location.href = 'live-try-on.html';
            }
        });
    </script>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var arContainer = document.getElementById('ar-container');
            var cameraButton = document.getElementById('turn-on-camera');
            var cameraContainer = document.getElementById('camera-container');
            var cameraFrame = document.getElementById('camera-frame');

            // Function to show the AR camera view
            function showCamera() {
                cameraContainer.style.display = 'block';
                arContainer.style.display = 'none';
                cameraFrame.src = 'camera.html'; 
            }

            // Event listener for the camera button click
            cameraButton.addEventListener('click', showCamera);
            
        });
    </script>
</body>
</html>
